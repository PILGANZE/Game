// ==============================
// SÃ©lection des Ã©lÃ©ments HTML
// ==============================

// Ã‰lÃ©ment oÃ¹ le choix de l'ordinateur sera affichÃ©
let contenantChoixOrdinateur = document.getElementById('choix-ordinateur');

// Ã‰lÃ©ment oÃ¹ le choix de l'utilisateur sera affichÃ©
let contenantChoixUtilisateur = document.getElementById('choix-utilisateur');

// Ã‰lÃ©ment oÃ¹ le rÃ©sultat (GagnÃ©, Perdu, Ã‰galitÃ©) sera affichÃ©
let contenantResultat = document.getElementById('resultat');

// SÃ©lection de tous les boutons dans la zone de choix
let choixPossibles = document.querySelectorAll('.bouttons_choix_jeu button');

// Variables pour stocker les choix et le rÃ©sultat
let ChoixUtilisateur;
let ChoixOrdinateur;
let resultat;

// ==============================
// Gestion des clics sur les boutons
// ==============================

// Ajouter un Ã©vÃ©nement Ã  chaque bouton de choix
choixPossibles.forEach(choix => {
    choix.addEventListener('click', (e) => {
        // RÃ©cupÃ©rer l'ID du bouton cliquÃ© (correspondant au choix de l'utilisateur)
        ChoixUtilisateur = e.target.id;

        // Afficher une image correspondant au choix de l'utilisateur
        contenantChoixUtilisateur.innerHTML = `<img src="${ChoixUtilisateur}.PNG" alt="${ChoixUtilisateur}">`;

        // GÃ©nÃ©rer un choix alÃ©atoire pour l'ordinateur
        generer_choix_ordinateur();

        // Afficher une image correspondant au choix de l'ordinateur
        contenantChoixOrdinateur.innerHTML = `<img src="${ChoixOrdinateur}.PNG" alt="${ChoixOrdinateur}">`;

        // VÃ©rifier le rÃ©sultat (GagnÃ©, Perdu, ou Ã‰galitÃ©)
        verification();
    });
});

// ==============================
// Fonction pour gÃ©nÃ©rer un choix alÃ©atoire pour l'ordinateur
// ==============================

function generer_choix_ordinateur() {
    // GÃ©nÃ©rer un nombre alÃ©atoire entre 0 et 2
    let random = Math.floor(Math.random() * 3);

    // Associer le nombre alÃ©atoire Ã  un choix
    if (random === 0) {
        ChoixOrdinateur = 'pierre';
    } else if (random === 1) {
        ChoixOrdinateur = 'papier';
    } else {
        ChoixOrdinateur = 'ciseaux';
    }
}

// ==============================
// Fonction pour vÃ©rifier le rÃ©sultat
// ==============================

function verification() {
    // Cas d'Ã©galitÃ©
    if (ChoixUtilisateur === ChoixOrdinateur) {
        resultat = "Ã‰galitÃ©";

    // Cas oÃ¹ l'utilisateur perd
    } else if (
        (ChoixUtilisateur === "pierre" && ChoixOrdinateur === "papier") ||
        (ChoixUtilisateur === "papier" && ChoixOrdinateur === "ciseaux") ||
        (ChoixUtilisateur === "ciseaux" && ChoixOrdinateur === "pierre")
    ) {
        resultat = "Perdu";

    // Cas oÃ¹ l'utilisateur gagne
    } else {
        resultat = "GagnÃ©";
    }

    // Afficher le rÃ©sultat dans l'Ã©lÃ©ment prÃ©vu
    contenantResultat.textContent = resultat;
}

// ==============================
// Gestion du son avec le bouton de contrÃ´le
// ==============================

// SÃ©lection des Ã©lÃ©ments audio et bouton
const audioPlayer = document.getElementById('audioPlayer'); // Ã‰lÃ©ment audio
const musicButton = document.getElementById('Music'); // Bouton pour contrÃ´ler le son

// Ã‰couter les clics sur le bouton de contrÃ´le de la musique
musicButton.addEventListener('click', () => {
    // VÃ©rifier si l'audio est en lecture
    if (audioPlayer.paused) {
        audioPlayer.play(); // Lancer la lecture
        musicButton.textContent = "ğŸ”‡"; // Changer l'icÃ´ne en mode muet
    } else {
        audioPlayer.pause(); // Mettre en pause
        musicButton.textContent = "ğŸµ"; // Remettre l'icÃ´ne en mode lecture
    }
});

// ==============================
// Lecture automatique du son au chargement de la page
// ==============================

 audioPlayer.play();

